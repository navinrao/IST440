<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Time Sheet</title>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

 <link rel="stylesheet" type="text/css" href="../CSS/timesheet.css" >

<!-- Loads JQuery from Google CDN -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!--Used for JQuery Timepicker-->
<script type="text/javascript" src="../plugins/jquery.timepicker.js"></script>
    <link rel="stylesheet" type="text/css" href="../plugins/jquery.timepicker.css">
    
    <!-- JavaScript for current Page -->
<script type="text/javascript">

    $(document).ready(function () {
        // Populates dates below days on document load
        (function populateDates() {
            var today = new Date();
            var dayOfTheWeek = today.getDay();     // Gets day of the week
            var currentMonth = today.getMonth() + 1;
            var bool = false;   // becomes true after current date is set
            var counter = 1;    // counts the number of days after current date

            // Iterates through all date class elements to find current day of the week
            $('.date').each(function (index) {

                // populates the days after the current day
                if (bool) {
                    var daysAfterToday = today.getDate() + counter;
                    this.value = (currentMonth + "/" + daysAfterToday);
                    daysAfterToday++;
                }
                // populates the current date only
                if ($(this).prop('id') == dayOfTheWeek) {
                    this.value = (currentMonth + "/" + today.getDate());
                    bool = true;
                }
            });

            var dayCounter = dayOfTheWeek;

            // populates days before current date
            $('.date').each(function (index) {
                if ($(this).prop('id') > dayOfTheWeek)
                    return false;
                var iterationDate = today.getDate() - dayCounter;
                this.innerHTML = (currentMonth + "/" + iterationDate);
                dayCounter--;
            });
        })();
        var date = new Date();
        
        //JQuery sets up start and end time boxes
        $('#timepicker-start').timepicker({ minTime: '6:00am', interval: 15 });

        $('#timepicker-end').timepicker({ minTime: '6:00am', interval: 15, onchange : function () { alert("T");} });

        //$('#timepicker-end').timepicker({ minTime: '6:00am', interval: 15 }).change(function () { alert("CHANGED1");});

        $('#timepicker-end').on(changeTime, function () {
            alert("CHANGED");
        });

        $('#timepicker-start').change(function () {
            alert("CHANGED");
        });
    });;
	// Function adds projects and corresponding rows to the timesheet
    var addProject = function () {
        var x = document.getElementById("project").value;
        if (x == "Project 1") {
        	document.getElementById("proj1").disabled = true;
        	getTableHTML(x);
        }
        else if (x == "Project 2") {
        	document.getElementById("proj2").disabled = true;
        	getTableHTML(x);
        }
        else if (x == "Project 3") {
        	document.getElementById("proj3").disabled = true;
        	getTableHTML(x);
        }
    }
    //<!-- Inserts Hours row for new project -->
    var getTableHTML = function (name) {
   		$(".table > tbody:last").append("<tr> <td>" + name + "</td><td><input type='time' id='start'>"
   	    + "</td><td><input type='time' id='end'></td><td><input type='number' class='mon' disabled></td>"
   	    + "<td><input type='number' class='mon' disabled></td><td><input type='number' class='mon'  disabled></td>"
   	    + "<td><input type='number' class='mon'  disabled></td><td><input type='number' class='mon'  disabled>"
   	    + "</td><td><input type='number' class='mon'  disabled ></td><td><input type='number' class='mon'  disabled>"
   	    + "</td><td><input type='number' class='mon' disabled></td>");
    }
    var printTest = function () {
        alert("testing method");
    }
    </script>

</head>
<body>
<img src="../Images/logo.jpg" alt="logo" style="width:175px;height:125px">

<h2>Dynamic Solutions</h2>

<div class="container">

	<div class="panel panel-info">
 	 <div class="panel-heading"><h4>New Time Sheet</h4></div>
  	</div>



  <div class="jumbotron">
  
  
<div class="table-responsive">          
      <table class="table">
        <thead>
          <tr>
            <th>Project Code</th>
            <th>Start</th>
            <th>End</th>
            <th>Sun</th>
            <th>Mon</th>
            <th>Tue</th>
            <th>Wed</th>
            <th>Thur</th>
            <th>Fri</th>
            <th>Sat</th>
            <th>TOTAL</th>
          </tr>
		  <tr>
			<th></th>
			<th></th>
			<th></th>
			<!--Holds the current dates. ID and class are used in JQuery-->
			<th id="0" class="date"></th>
			<th id="1" class="date"></th>
            <th id="2" class="date"></th>
            <th id="3" class="date"></th>
            <th id="4" class="date"></th>
            <th id="5" class="date"></th>
            <th id="6" class="date"></th>
		  </tr>
        </thead>
        <tbody>
        	<tr></tr>
        </tbody>
        <tfoot>
	    	<td>
				<select id ="project" onchange="addProject()">
				  <option value="">Project</option>
				  <option id="proj1" value="Project 1">Project 1</option>
				  <option id="proj2" value="Project 2">Project 2</option>
				  <option id="proj3" value="Project 3">Project 3</option>
				</select>
            </td>
            <td>
	            <input id="timepicker-start" class="timepicker">
            </td>
            
            <td>
	            <input id="timepicker-end" class="timepicker">
            </td>
            
            <td>
	            <input type="number" class="mon" disabled >
            </td>
            
            <td>
	            <input type="number" class="mon" disabled >
            </td>
            
            <td>
	            <input type="number" class="mon"  disabled >
            </td>
            
            <td>
	            <input type="number" class="mon"  disabled  >
            </td>
            
            <td>
	            <input type="number" class="mon"  disabled >
            </td>
            
            <td>
	            <input type="number" class="mon"  disabled  >
            </td>
            
            <td>
	            <input type="number" class="mon"  disabled  >
            </td>
            
             <td>
	            <input type="number" class="mon" disabled >
            </td>
        </tfoot>
      </table>
      </div>
      
      
      
    </div>

        <div class="panel panel-primary">
		<p>IST 440 Group 1 Spring 2015 </p>
		</div>
  
    
  </div>
  

  
  


</body>
</html>